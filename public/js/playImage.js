!function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(i,r,function(e){return t[e]}.bind(null,r));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=2)}([function(t,e){function n(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}var i=function(){function t(e,n,i){var o=this;if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),0==n||0==i)throw new Error("minPitch and maxPitch must not be zero");if(n>=i)throw new Error("minPitch must be less than maxPitch");this.height=e.height,this.width=e.width,this.audioCtx=new AudioContext,this.panNode=this.audioCtx.createStereoPanner(),this.gainValues=r(e),this.pitches=a(this.height,n,i),this.synths=this.pitches.map(function(){return o.audioCtx.createOscillator()}),this.gainControllers=this.pitches.map(function(){return o.audioCtx.createGain()}),this.masterGain=this.audioCtx.createGain(),this.interval=1e3/this.width,this.audioPlaying=!1;for(var u=0;u<this.synths.length;u++)this.synths[u].frequency.value=this.pitches[u],this.synths[u].connect(this.gainControllers[u]);this.gainControllers.forEach(function(t){t.gain.value=0,t.connect(o.masterGain)}),this.masterGain.gain.value=.8,this.masterGain.connect(this.panNode),this.synths.forEach(function(t){return t.start(0)})}var e,i,o;return e=t,(i=[{key:"play",value:function(){var t=this;if(!0!==this.audioPlaying){this.audioPlaying=!0,this.panNode.connect(this.audioCtx.destination);var e=0,n=-1,i=Math.floor(1.2*this.width);this.timeout=setInterval(function(){if(e===t.width)t.gainControllers.forEach(function(t){return t.gain.value=0});else if(e===i)n=-1;else if(e<t.width){t.panNode.pan.value=n;for(var r=t.gainControllers.length,a=0;a<r;a++)t.gainControllers[a].gain.value=t.gainValues[r*e+a]/r;n+=2/t.width}e=(e+1)%(i+1)},this.interval)}}},{key:"stop",value:function(){!1!==this.audioPlaying&&(this.audioPlaying=!1,this.panNode.disconnect(this.audioCtx.destination),clearTimeout(this.timeout))}}])&&n(e.prototype,i),o&&n(e,o),t}();function r(t){var e=t.width,n=t.height,i=t.getContext("2d");if(e*n==1){var r=i.getImageData(0,0,1,1).data;return[.299*r[0]+.587*r[1]+.114*r[2]].map(function(t){return t/255})}if(e*n==0)return[];for(var a=Array(e*n),o=0;o<e;o++)for(var u=0;u<n;u++){var s=i.getImageData(o,u,1,1).data,c=.299*s[0]+.587*s[1]+.114*s[2];a[n*o+u]=c}return a.map(function(t){return t/255})}function a(t,e,n){var i;if(t<=2)i=1;else{var r=n/e,a=1/(t-1);i=Math.pow(r,a)}var o=Array(t),u=n;o[0]=u;for(var s=1;s<o.length;s++)u/=i,o[s]=u;return o}t.exports={AudioState:i,createGains:r,createPitches:a}},,function(t,e,n){var i,r=n(0).AudioState;document.querySelector("title").innerText="Audible Sights - Play Uploaded Image",window.onload=function(){var t=document.getElementById("canvas"),e=t.getContext("2d"),n=document.getElementById("source");e.drawImage(n,0,0),i=new r(t,100,6400),document.getElementById("play-button").addEventListener("click",function(){i.play()}),document.getElementById("stop-button").addEventListener("click",function(){i.stop()})}}]);